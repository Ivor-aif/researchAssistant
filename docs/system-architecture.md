# 研究助手系统架构文档

## 1. 系统概述

研究助手系统是一个面向研究人员的智能辅助工具，旨在提高研究效率和质量。系统集成了论文检索、创新点分析、研究进度追踪等功能，并结合AI技术提供智能化的研究辅助服务。

## 2. 架构设计原则

### 2.1 模块化设计
- 系统采用模块化设计，各功能模块相对独立
- 通过标准接口实现模块间通信
- 便于功能扩展和维护

### 2.2 前后端分离
- 前端负责用户界面和交互逻辑
- 后端提供API服务和业务逻辑
- 通过RESTful API实现前后端通信

### 2.3 可扩展性
- 系统设计考虑未来功能扩展需求
- 支持水平扩展以应对用户量增长
- 插件化架构便于添加新功能

## 3. 技术架构

### 3.1 前端技术栈
- **框架**: React + TypeScript
- **构建工具**: Vite
- **状态管理**: Redux Toolkit
- **路由**: React Router
- **UI组件**: Ant Design
- **HTTP客户端**: Axios
- **测试工具**: Jest + React Testing Library

### 3.2 后端技术栈
- **主要语言**: C++/Python
- **Web框架**: FastAPI (Python)
- **ORM**: SQLAlchemy
- **数据库**: PostgreSQL
- **缓存**: Redis
- **认证**: JWT
- **测试工具**: Pytest

### 3.3 AI集成
- **OpenAI Vision API**: 用于图像识别和文本分析
- **自定义模型**: 用于论文创新点提取和研究方向推荐

## 4. 系统架构图

```
+----------------------------------+
|           客户端层               |
|  +----------------------------+  |
|  |        Web浏览器           |  |
|  +----------------------------+  |
+----------------------------------+
              |
              | HTTPS
              |
+----------------------------------+
|           前端层                 |
|  +----------------------------+  |
|  |      React应用            |  |
|  |  +---------------------+  |  |
|  |  |     组件库          |  |  |
|  |  +---------------------+  |  |
|  |  |     状态管理        |  |  |
|  |  +---------------------+  |  |
|  |  |     路由管理        |  |  |
|  |  +---------------------+  |  |
|  +----------------------------+  |
+----------------------------------+
              |
              | RESTful API
              |
+----------------------------------+
|           后端层                 |
|  +----------------------------+  |
|  |      API服务              |  |
|  |  +---------------------+  |  |
|  |  |    认证模块         |  |  |
|  |  +---------------------+  |  |
|  |  |    业务逻辑模块     |  |  |
|  |  +---------------------+  |  |
|  |  |    AI集成模块       |  |  |
|  |  +---------------------+  |  |
|  +----------------------------+  |
+----------------------------------+
              |
              |
              |
+----------------------------------+
|           数据层                 |
|  +------------+  +------------+  |
|  | PostgreSQL |  |   Redis    |  |
|  +------------+  +------------+  |
|                                  |
|  +----------------------------+  |
|  |      文件存储              |  |
|  +----------------------------+  |
+----------------------------------+
              |
              |
              |
+----------------------------------+
|           外部服务层             |
|  +------------+  +------------+  |
|  | OpenAI API |  | 论文数据库  |  |
|  +------------+  +------------+  |
|                                  |
|  +----------------------------+  |
|  |      其他第三方服务        |  |
|  +----------------------------+  |
+----------------------------------+
```

## 5. 核心模块设计

### 5.1 用户认证模块
- **功能**: 用户注册、登录、权限管理
- **技术**: JWT认证、密码加密
- **数据流**: 客户端 -> API服务 -> 数据库

### 5.2 论文检索模块
- **功能**: 多源论文搜索、元数据提取、结果排序
- **技术**: 搜索算法、外部API集成
- **数据流**: 客户端 -> API服务 -> 外部论文数据库 -> 缓存 -> 客户端

### 5.3 创新点分析模块
- **功能**: 论文创新点提取、分类、评估
- **技术**: NLP算法、OpenAI API
- **数据流**: 客户端 -> API服务 -> AI服务 -> 数据库 -> 客户端

### 5.4 研究进度追踪模块
- **功能**: 研究计划管理、进度监控、提醒
- **技术**: 任务调度、通知系统
- **数据流**: 客户端 -> API服务 -> 数据库 -> 客户端

### 5.5 论文复现模块
- **功能**: 实验环境配置、代码复现、结果验证
- **技术**: 容器技术、版本控制
- **数据流**: 客户端 -> API服务 -> 代码仓库 -> 执行环境 -> 客户端

### 5.6 报告生成模块
- **功能**: 报告模板、自动生成、编辑导出
- **技术**: 文档生成、格式转换
- **数据流**: 客户端 -> API服务 -> 数据库 -> 文档生成 -> 客户端

## 6. 数据库设计

### 6.1 实体关系图

```
+-------------+       +-------------+       +-------------+
|    User     |       |   Project   |       |    Paper    |
+-------------+       +-------------+       +-------------+
| id          |<----->| id          |<----->| id          |
| username    |       | title       |       | title       |
| email       |       | description |       | authors     |
| password    |       | start_date  |       | abstract    |
| created_at  |       | end_date    |       | url         |
+-------------+       | status      |       | pub_date    |
                      | user_id     |       | project_id  |
                      +-------------+       +-------------+
                              |                    |
                              v                    v
                      +-------------+       +-------------+
                      |  Progress   |       | Innovation  |
                      +-------------+       +-------------+
                      | id          |       | id          |
                      | content     |       | content     |
                      | milestone   |       | category    |
                      | project_id  |       | significance|
                      | created_at  |       | paper_id    |
                      +-------------+       +-------------+
```

### 6.2 主要表结构

#### 用户表 (users)
- id: 主键
- username: 用户名
- email: 邮箱
- password_hash: 密码哈希
- created_at: 创建时间

#### 项目表 (projects)
- id: 主键
- title: 项目标题
- description: 项目描述
- start_date: 开始日期
- end_date: 结束日期
- status: 项目状态
- user_id: 外键，关联用户
- created_at: 创建时间
- updated_at: 更新时间

#### 论文表 (papers)
- id: 主键
- title: 论文标题
- authors: 作者
- abstract: 摘要
- url: 论文链接
- publication_date: 发布日期
- project_id: 外键，关联项目
- created_at: 创建时间

## 7. 安全架构

### 7.1 认证与授权
- JWT令牌认证
- 基于角色的访问控制
- 令牌过期和刷新机制

### 7.2 数据安全
- HTTPS加密传输
- 密码哈希存储
- 敏感数据加密
- SQL注入防护

### 7.3 API安全
- 请求验证
- 速率限制
- CORS策略
- 安全头部配置

## 8. 部署架构

### 8.1 开发环境
- 本地开发环境
- 代码版本控制 (Git)
- CI/CD流程 (GitHub Actions)

### 8.2 测试环境
- 自动化测试
- 性能测试
- 安全测试

### 8.3 生产环境
- 容器化部署 (Docker)
- 负载均衡
- 自动扩展
- 监控和告警

## 9. 性能优化

### 9.1 前端优化
- 代码分割和懒加载
- 组件缓存和重用
- 虚拟滚动
- 资源压缩和CDN

### 9.2 后端优化
- 数据库索引和查询优化
- 缓存策略
- 异步处理
- 水平扩展

## 10. 可扩展性设计

### 10.1 功能扩展
- 插件系统
- 模块化设计
- 标准化接口

### 10.2 规模扩展
- 微服务架构准备
- 数据分片
- 分布式缓存

## 11. 监控与维护

### 11.1 系统监控
- 性能指标监控
- 错误日志收集
- 用户行为分析

### 11.2 系统维护
- 定期备份
- 版本更新策略
- 故障恢复机制

## 12. 未来架构演进

### 12.1 短期计划
- 性能优化
- 安全增强
- 功能完善

### 12.2 中长期计划
- 微服务架构转型
- AI能力增强
- 多端支持